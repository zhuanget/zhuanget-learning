# Session和JWT的优缺点及应用场景

## session

### 优点：

前端在请求时放在cookie中，兼容性较好。

可以主动清除session。

session保存在服务器端较为安全。

### 缺点：

session+cookie跨域表现不好。

多机部署时需要共享session。

基于cookie，有csrf风险。

查询session可能会有数据库查询操作。

### 适用场景：

web应用的会话管理。一般特点：权限多，用JWT的话长度会很长。基本信息容易变动，权限需要实时响应。

## JWT

### 优点：

无状态，多机部署时无需共享状态。

跨平台：基于json的。

### 缺点：

一般来说JWT的大小比sessionId大，增大了每个HTTP请求的大小，以及验证JWT需要计算，耗费服务端性能。

时效性差：只有过期才能销毁，并且服务端数据发生变化时JWT得不到更新。只能通过增加黑名单来使特定JWT失效。

前端手动维护，每一次请求带上。

### 适用场景：

一次性授权、有效期短。



